{"ast":null,"code":"import * as THREE from 'three';\nimport Figure from './Figure';\nconst perspective = 200;\nexport default class Scene {\n  constructor() {\n    this.container = document.getElementById('stage');\n    this.scene = new THREE.Scene();\n    this.renderer = new THREE.WebGLRenderer({\n      canvas: this.container,\n      alpha: true\n    });\n    this.renderer.setSize(window.innerWidth / 5, window.innerHeight / 5);\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.initLights();\n    this.initCamera();\n    this.figure = new Figure(this.scene, () => {\n      this.update();\n    });\n  }\n\n  initLights() {\n    const ambientlight = new THREE.AmbientLight(0xffffff, 2);\n    this.scene.add(ambientlight);\n  }\n\n  onMouseMove() {\n    window.addEventListener('mousemove', ev => {\n      this.figure.onMouseMove(ev);\n    });\n  }\n\n  initCamera() {\n    const fov = 20;\n    this.camera = new THREE.PerspectiveCamera(fov, window.innerWidth / window.innerHeight, 1, 1000);\n    this.camera.position.set(0, 0, perspective);\n  }\n\n  update() {\n    if (this.renderer === undefined) return;\n    requestAnimationFrame(this.update.bind(this));\n    this.figure.update();\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}","map":{"version":3,"sources":["/Users/stik/Desktop/react-animation-with-create-app/src/Scene.js"],"names":["THREE","Figure","perspective","Scene","constructor","container","document","getElementById","scene","renderer","WebGLRenderer","canvas","alpha","setSize","window","innerWidth","innerHeight","setPixelRatio","devicePixelRatio","initLights","initCamera","figure","update","ambientlight","AmbientLight","add","onMouseMove","addEventListener","ev","fov","camera","PerspectiveCamera","position","set","undefined","requestAnimationFrame","bind","render"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,MAAMC,WAAW,GAAG,GAApB;AAEA,eAAe,MAAMC,KAAN,CAAY;AACvBC,EAAAA,WAAW,GAAG;AACV,SAAKC,SAAL,GAAiBC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAjB;AAEA,SAAKC,KAAL,GAAa,IAAIR,KAAK,CAACG,KAAV,EAAb;AACA,SAAKM,QAAL,GAAgB,IAAIT,KAAK,CAACU,aAAV,CAAwB;AACpCC,MAAAA,MAAM,EAAE,KAAKN,SADuB;AAEpCO,MAAAA,KAAK,EAAE;AAF6B,KAAxB,CAAhB;AAKA,SAAKH,QAAL,CAAcI,OAAd,CAAsBC,MAAM,CAACC,UAAP,GAAoB,CAA1C,EAA6CD,MAAM,CAACE,WAAP,GAAqB,CAAlE;AACA,SAAKP,QAAL,CAAcQ,aAAd,CAA4BH,MAAM,CAACI,gBAAnC;AAEA,SAAKC,UAAL;AACA,SAAKC,UAAL;AAEA,SAAKC,MAAL,GAAc,IAAIpB,MAAJ,CAAW,KAAKO,KAAhB,EAAuB,MAAM;AACvC,WAAKc,MAAL;AACH,KAFa,CAAd;AAIH;;AAEDH,EAAAA,UAAU,GAAG;AACT,UAAMI,YAAY,GAAG,IAAIvB,KAAK,CAACwB,YAAV,CAAuB,QAAvB,EAAiC,CAAjC,CAArB;AACA,SAAKhB,KAAL,CAAWiB,GAAX,CAAeF,YAAf;AACH;;AAEDG,EAAAA,WAAW,GAAG;AACVZ,IAAAA,MAAM,CAACa,gBAAP,CAAwB,WAAxB,EAAsCC,EAAD,IAAQ;AACzC,WAAKP,MAAL,CAAYK,WAAZ,CAAwBE,EAAxB;AACH,KAFD;AAIH;;AAEDR,EAAAA,UAAU,GAAG;AACT,UAAMS,GAAG,GAAG,EAAZ;AAEA,SAAKC,MAAL,GAAc,IAAI9B,KAAK,CAAC+B,iBAAV,CACVF,GADU,EAEVf,MAAM,CAACC,UAAP,GAAoBD,MAAM,CAACE,WAFjB,EAGV,CAHU,EAIV,IAJU,CAAd;AAMA,SAAKc,MAAL,CAAYE,QAAZ,CAAqBC,GAArB,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B/B,WAA/B;AACH;;AAEDoB,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKb,QAAL,KAAkByB,SAAtB,EAAiC;AACjCC,IAAAA,qBAAqB,CAAC,KAAKb,MAAL,CAAYc,IAAZ,CAAiB,IAAjB,CAAD,CAArB;AAEA,SAAKf,MAAL,CAAYC,MAAZ;AAEA,SAAKb,QAAL,CAAc4B,MAAd,CAAqB,KAAK7B,KAA1B,EAAiC,KAAKsB,MAAtC;AACH;;AArDsB","sourcesContent":["import * as THREE from 'three'\nimport Figure from './Figure'\n\nconst perspective = 200\n\nexport default class Scene {\n    constructor() {\n        this.container = document.getElementById('stage')\n\n        this.scene = new THREE.Scene()\n        this.renderer = new THREE.WebGLRenderer({\n            canvas: this.container,\n            alpha: true\n        })\n\n        this.renderer.setSize(window.innerWidth / 5, window.innerHeight / 5)\n        this.renderer.setPixelRatio(window.devicePixelRatio)\n\n        this.initLights()\n        this.initCamera()\n\n        this.figure = new Figure(this.scene, () => {\n            this.update()\n        })\n        \n    }\n    \n    initLights() {\n        const ambientlight = new THREE.AmbientLight(0xffffff, 2)\n        this.scene.add(ambientlight)\n    }\n    \n    onMouseMove() {\n        window.addEventListener('mousemove', (ev) => {\n            this.figure.onMouseMove(ev)\n        })\n\n    }\n\n    initCamera() {\n        const fov = 20\n\n        this.camera = new THREE.PerspectiveCamera(\n            fov,\n            window.innerWidth / window.innerHeight,\n            1,\n            1000\n        )\n        this.camera.position.set(0, 0, perspective)\n    }\n\n    update() {\n        if (this.renderer === undefined) return\n        requestAnimationFrame(this.update.bind(this))\n\n        this.figure.update()\n\n        this.renderer.render(this.scene, this.camera)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}